{"version":3,"sources":["hoc/withAuthRedirect.js","components/Friends/Friends.module.css","components/common/Paginator/Paginator.module.css","assets/images/arrow-right-01-512.png","components/Friends/Friend/Friend.module.css","components/Friends/FriendSearch/FriendSearch.module.css","components/common/Paginator/Paginator.js","components/Friends/Friend/Friend.js","components/Friends/FriendSearch/FriendSearch.js","components/Friends/Friends.js","components/Friends/FriendsContainer.js"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","Paginator","totalUsersCount","pageSize","currentPage","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","s","main","onClick","btn","src","arrow","alt","cn","arrowNext","arrowPrev","filter","p","map","selectedPage","page","key","e","Friend","u","user","id","friendItem","navImg","photos","small","userPhoto","fullname","name","followUser","followed","disabled","followingInProgress","some","unfollow","btnFollow","follow","friendMenuWrap","friendMenu","friendMenuContent","separator","FriendSearch","onSearch","value","setValue","friendSearch","btnSearch","type","placeholder","onChange","event","target","Friends","search","setSearch","filteredData","users","item","toLowerCase","includes","friendList","friendCount","totalUsers","paginator","FriendsContainer","pageNumber","getUsers","isFetching","Preloader","compose","getFriends","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","setCurrentPage","toggleFollowingProgress","requestUsers"],"mappings":"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","file":"static/js/3.cad9c088.chunk.js","sourcesContent":["import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to={\"/login\"}/>\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n    return ConnectedAuthRedirectComponent\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendList\":\"Friends_friendList__1pNOf\",\"friendCount\":\"Friends_friendCount__1GCyD\",\"totalUsers\":\"Friends_totalUsers__3q3ky\",\"paginator\":\"Friends_paginator__2_l9M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Paginator_main__7aakA\",\"page\":\"Paginator_page__3LEqj\",\"selectedPage\":\"Paginator_selectedPage__2xVvp\",\"btn\":\"Paginator_btn__HcyIs\",\"arrowNext\":\"Paginator_arrowNext__1DQw3\",\"arrowPrev\":\"Paginator_arrowPrev__3KL09\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAACIlBMVEUAAAAAAACAgIBVVVVAQEBmZmZVVVVJSUlgYGBVVVVNTU1GRkZVVVVOTk5JSUlVVVVQUFBVVVVNTU1VVVVOTk5VVVVSUlJPT09SUlJQUFBNTU1TU1NQUFBOTk5RUVFOTk5TU1NRUVFPT09TU1NRUVFPT09TU1NRUVFQUFBTU1NSUlJQUFBRUVFPT09SUlJPT09RUVFQUFBSUlJRUVFQUFBTU1NTU1NRUVFSUlJRUVFPT09RUVFQUFBSUlJQUFBQUFBQUFBSUlJRUVFQUFBSUlJQUFBRUVFQUFBSUlJQUFBSUlJSUlJRUVFQUFBSUlJRUVFQUFBSUlJRUVFRUVFSUlJQUFBRUVFQUFBSUlJQUFBRUVFQUFBSUlJRUVFSUlJRUVFSUlJRUVFRUVFQUFBRUVFRUVFQUFBSUlJQUFBRUVFSUlJRUVFRUVFRUVFRUVFQUFBRUVFRUVFRUVFSUlJRUVFRUVFRUVFRUVFSUlJRUVFRUVFQUFBRUVFQUFBRUVFRUVFRUVFRUVFSUlJRUVFRUVFSUlJRUVFQUFBRUVFQUFBRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFSUlJRUVFRUVFSUlJRUVFQUFBRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFSUlJRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVG+GLwZAAAAtXRSTlMAAQIDBAUGBwgJCgsMDQ4PEBIUFRcYHB0fICEiIyQmJygpKissLS4vMDEyMzk6Oz0/QEFCQ0RHSEtMTU9QUVNWWVpbXF1gYmNkZmdqa2xtbm9wcXJzdnd5enx+f4OFhoiJiouPkJGSk5WXnJ6hpKaoqaqrrK2usLGys7S1uru9vr/DxcbHyMrLzc7P0NHS09TW19jZ2tvc3d7f4eLk5ebn6Onq6+zt8PHy8/T19vf4+fr7/P3+P7ZK/gAABn5JREFUeNrt3WmXlwMcxvFGi4hJRVJI22RfypqJSsgWIiopyTqWIUrKvifLICHKEkmbyczv/XmYB6WZczot9/X5vITf9T3n/v9nzj0zYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAEt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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendItem\":\"Friend_friendItem__xkKpR\",\"navImg\":\"Friend_navImg__2WKyV\",\"fullname\":\"Friend_fullname__C8Kgm\",\"followUser\":\"Friend_followUser__2GcdX\",\"btnFollow\":\"Friend_btnFollow__ansR6\",\"friendMenuWrap\":\"Friend_friendMenuWrap__1zhCE\",\"friendMenu\":\"Friend_friendMenu__31S86\",\"friendMenuContent\":\"Friend_friendMenuContent__3hHUs\",\"separator\":\"Friend_separator__3MtsS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendSearch\":\"FriendSearch_friendSearch__jHY_r\",\"btnSearch\":\"FriendSearch_btnSearch__3DMWP\"};","import React, {useState} from \"react\";\r\nimport cn from 'classnames'\r\nimport s from \"./Paginator.module.css\";\r\nimport arrow from \"../../../assets/images/arrow-right-01-512.png\"\r\n\r\n\r\n\r\nexport const Paginator = ({totalUsersCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n    let pagesCount = Math.ceil(totalUsersCount / pageSize)\r\n\r\n        let pages = []\r\n        for (let i=1; i <= pagesCount; i++) {\r\n            pages.push(i)\r\n        }\r\n\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize)\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    let rightPortionPageNumber = portionNumber * portionSize\r\n\r\n    return (\r\n        <div className={s.main}>\r\n            { portionNumber > 1 &&\r\n            <button onClick={ () => { setPortionNumber(portionNumber - 1)}} className={s.btn}>\r\n                <img src={arrow} alt=\"\" className={cn(s.arrowNext, s.arrowPrev)}/>\r\n            </button>}\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p<=rightPortionPageNumber)\r\n                .map((p) => {\r\n                    return <span className={cn(currentPage === p && s.selectedPage, s.page)}\r\n                             key={p}\r\n                             onClick={(e) => {\r\n                                 onPageChanged(p)\r\n                             }}>{p}</span>\r\n                })}\r\n            { portionCount > portionNumber &&\r\n            <button onClick={ () => {setPortionNumber(portionNumber + 1)}} className={s.btn}>\r\n                <img src={arrow} alt=\"\" className={s.arrowNext}/>\r\n            </button>}\r\n        </div>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport s from \"./Friend.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport userPhoto from \"../../../assets/images/upload_profile_photo.png\";\r\n\r\n\r\nexport const Friend = props => {\r\n    let u = props.user\r\n    return (\r\n        <div key={u.id} className={s.friendItem}>\r\n            <NavLink to={'/profile/' + u.id} className={s.navImg}>\r\n                <img src={u.photos.small != null ? u.photos.small : userPhoto} alt=\"\"/>\r\n            </NavLink>\r\n            <div className={s.fullname}>{u.name}</div>\r\n            <div className={s.followUser}>\r\n                {u.followed\r\n                    ? <button disabled={props.followingInProgress.some(id => id === u.id)}\r\n                              onClick={() => {\r\n                                  props.unfollow(u.id)\r\n                              }}\r\n                              className={s.btnFollow}>\r\n                        Unfollow</button>\r\n                    : <button disabled={props.followingInProgress.some(id => id === u.id)}\r\n                              onClick={() => {\r\n                                  props.follow(u.id)\r\n                              }}\r\n                              className={s.btnFollow}>\r\n                        Follow</button>}\r\n            </div>\r\n            <div className={s.friendMenuWrap}>\r\n                <div className={s.friendMenu}>\r\n                    <div className={s.friendMenuContent}>\r\n                        <NavLink to=''>\r\n                            <span>Show friends</span>\r\n                        </NavLink>\r\n                        <NavLink to=''>\r\n                            <span>Suggest friends</span>\r\n                        </NavLink>\r\n                        <div className={s.separator}/>\r\n                        <NavLink to=''>\r\n                            <span>Edit friend lists</span>\r\n                        </NavLink>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, {useState} from \"react\";\r\nimport s from \"./FriendSearch.module.css\";\r\n\r\n\r\nexport const FriendSearch = ({ onSearch }) => {\r\n    const [value, setValue] = useState('')\r\n    const valueChangeHandler = event => {\r\n        setValue(event.target.value)\r\n    }\r\n\r\n    return (\r\n        <div className={s.friendSearch}>\r\n            <button className={s.btnSearch} onClick={() => onSearch(value)}/>\r\n            <input type=\"text\" placeholder={'Search friends'} value={value} onChange={valueChangeHandler}/>\r\n        </div>\r\n    )\r\n}","import React, {useState} from \"react\";\r\nimport s from \"./Friends.module.css\";\r\nimport {Paginator} from \"../common/Paginator/Paginator\";\r\nimport {Friend} from \"./Friend/Friend\";\r\nimport {FriendSearch} from \"./FriendSearch/FriendSearch\";\r\n\r\n\r\nlet Friends = ({totalUsersCount, currentPage, onPageChanged, pageSize, ...props}) => {\r\n    const [search, setSearch] = useState('')\r\n\r\n    const SearchHandler = search => {\r\n        setSearch(search)\r\n    }\r\n\r\n    const getFilteredData = () => {\r\n        if(!search) {\r\n            return props.users\r\n        }\r\n        return props.users.filter(item => {\r\n            return item['name'].toLowerCase().includes(search.toLowerCase())\r\n        })\r\n    }\r\n\r\n    const filteredData = getFilteredData()\r\n\r\n    // Stub for future full-featured search\r\n\r\n    // const displayedData = _.chunk(filteredData, pageSize)[currentPage]\r\n\r\n    return (\r\n        <div className={s.friendList}>\r\n            <div className={s.friendCount}>\r\n                All friends <span className={s.totalUsers}>{totalUsersCount}</span>\r\n            </div>\r\n            <FriendSearch onSearch={SearchHandler}/>\r\n            {filteredData.map(u => <Friend user={u}\r\n                                           follow={props.follow}\r\n                                           unfollow={props.unfollow}\r\n                                           key={u.id}\r\n                                           followingInProgress={props.followingInProgress}/>\r\n            )}\r\n            <div className={s.paginator}>\r\n                <Paginator totalUsersCount={totalUsersCount} currentPage={currentPage} onPageChanged={onPageChanged}\r\n                           pageSize={pageSize}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Friends","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    follow,\r\n    setCurrentPage,\r\n    unfollow, toggleFollowingProgress, requestUsers\r\n} from \"../../redux/friends-reducer\";\r\nimport Friends from \"./Friends\";\r\nimport {Preloader} from \"../common/Preloader/Preloader\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage, getFollowingInProgress,\r\n    getFriends,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount\r\n} from \"../../redux/friends-selectors\";\r\n\r\n\r\nclass FriendsContainer extends React.Component {\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize)\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        this.props.getUsers(pageNumber, this.props.pageSize)\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            { this.props.isFetching ? <Preloader/> : null }\r\n            <Friends totalUsersCount={this.props.totalUsersCount}\r\n                     currentPage={this.props.currentPage}\r\n                     pageSize={this.props.pageSize}\r\n                     users={this.props.users}\r\n                     follow={this.props.follow}\r\n                     unfollow={this.props.unfollow}\r\n                     onPageChanged={this.onPageChanged}\r\n                     followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getFriends(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {follow, unfollow, setCurrentPage, toggleFollowingProgress, getUsers: requestUsers}),\r\n    withAuthRedirect\r\n)(FriendsContainer)\r\n"],"sourceRoot":""}